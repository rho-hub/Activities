{"ast":null,"code":"export const getCurrentLocation = () => {\n  return new Promise((resolve, reject) => {\n    if (!navigator.geolocation) {\n      reject(new Error(\"Geolocation not supported\"));\n      return;\n    }\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0\n    };\n    navigator.geolocation.getCurrentPosition(position => resolve({\n      lat: position.coords.latitude,\n      lng: position.coords.longitude,\n      accuracy: position.coords.accuracy\n    }), error => {\n      console.warn(`Geolocation error (${error.code}): ${error.message}`);\n      // Fallback to IP-based location\n      fetch('https://ipapi.co/json/').then(res => res.json()).then(data => {\n        if (data.latitude && data.longitude) {\n          resolve({\n            lat: parseFloat(data.latitude),\n            lng: parseFloat(data.longitude),\n            accuracy: 5000 // Approximate accuracy for IP-based location\n          });\n        } else {\n          reject(error); // Fallback failed\n        }\n      }).catch(() => reject(error));\n    }, options);\n  });\n};\nexport const fetchNearbyPlaces = (map, location) => {\n  return new Promise((resolve, reject) => {\n    if (!map || !window.google) return reject(\"Map not loaded\");\n    const service = new window.google.maps.places.PlacesService(map);\n    const request = {\n      location: new window.google.maps.LatLng(location.lat, location.lng),\n      radius: 5000,\n      type: ['park', 'tourist_attraction', 'amusement_park']\n    };\n    service.nearbySearch(request, (results, status) => {\n      if (status === window.google.maps.places.PlacesServiceStatus.OK) {\n        resolve(results);\n      } else {\n        reject(status);\n      }\n    });\n  });\n};","map":{"version":3,"names":["getCurrentLocation","Promise","resolve","reject","navigator","geolocation","Error","options","enableHighAccuracy","timeout","maximumAge","getCurrentPosition","position","lat","coords","latitude","lng","longitude","accuracy","error","console","warn","code","message","fetch","then","res","json","data","parseFloat","catch","fetchNearbyPlaces","map","location","window","google","service","maps","places","PlacesService","request","LatLng","radius","type","nearbySearch","results","status","PlacesServiceStatus","OK"],"sources":["C:/Users/USER/Desktop/events-explorer/src/services/mapsService.js"],"sourcesContent":["export const getCurrentLocation = () => {\r\n  return new Promise((resolve, reject) => {\r\n    if (!navigator.geolocation) {\r\n      reject(new Error(\"Geolocation not supported\"));\r\n      return;\r\n    }\r\n\r\n    const options = {\r\n      enableHighAccuracy: true,\r\n      timeout: 5000,\r\n      maximumAge: 0\r\n    };\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => resolve({\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude,\r\n        accuracy: position.coords.accuracy\r\n      }),\r\n      (error) => {\r\n        console.warn(`Geolocation error (${error.code}): ${error.message}`);\r\n        // Fallback to IP-based location\r\n        fetch('https://ipapi.co/json/')\r\n          .then(res => res.json())\r\n          .then(data => {\r\n            if (data.latitude && data.longitude) {\r\n              resolve({\r\n                lat: parseFloat(data.latitude),\r\n                lng: parseFloat(data.longitude),\r\n                accuracy: 5000 // Approximate accuracy for IP-based location\r\n              });\r\n            } else {\r\n              reject(error); // Fallback failed\r\n            }\r\n          })\r\n          .catch(() => reject(error));\r\n      },\r\n      options\r\n    );\r\n  });\r\n};\r\n\r\nexport const fetchNearbyPlaces = (map, location) => {\r\n  return new Promise((resolve, reject) => {\r\n    if (!map || !window.google) return reject(\"Map not loaded\");\r\n    \r\n    const service = new window.google.maps.places.PlacesService(map);\r\n    const request = {\r\n      location: new window.google.maps.LatLng(location.lat, location.lng),\r\n      radius: 5000,\r\n      type: ['park', 'tourist_attraction', 'amusement_park']\r\n    };\r\n\r\n    service.nearbySearch(request, (results, status) => {\r\n      if (status === window.google.maps.places.PlacesServiceStatus.OK) {\r\n        resolve(results);\r\n      } else {\r\n        reject(status);\r\n      }\r\n    });\r\n  });\r\n};"],"mappings":"AAAA,OAAO,MAAMA,kBAAkB,GAAGA,CAAA,KAAM;EACtC,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,IAAI,CAACC,SAAS,CAACC,WAAW,EAAE;MAC1BF,MAAM,CAAC,IAAIG,KAAK,CAAC,2BAA2B,CAAC,CAAC;MAC9C;IACF;IAEA,MAAMC,OAAO,GAAG;MACdC,kBAAkB,EAAE,IAAI;MACxBC,OAAO,EAAE,IAAI;MACbC,UAAU,EAAE;IACd,CAAC;IAEDN,SAAS,CAACC,WAAW,CAACM,kBAAkB,CACrCC,QAAQ,IAAKV,OAAO,CAAC;MACpBW,GAAG,EAAED,QAAQ,CAACE,MAAM,CAACC,QAAQ;MAC7BC,GAAG,EAAEJ,QAAQ,CAACE,MAAM,CAACG,SAAS;MAC9BC,QAAQ,EAAEN,QAAQ,CAACE,MAAM,CAACI;IAC5B,CAAC,CAAC,EACDC,KAAK,IAAK;MACTC,OAAO,CAACC,IAAI,CAAC,sBAAsBF,KAAK,CAACG,IAAI,MAAMH,KAAK,CAACI,OAAO,EAAE,CAAC;MACnE;MACAC,KAAK,CAAC,wBAAwB,CAAC,CAC5BC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;QACZ,IAAIA,IAAI,CAACb,QAAQ,IAAIa,IAAI,CAACX,SAAS,EAAE;UACnCf,OAAO,CAAC;YACNW,GAAG,EAAEgB,UAAU,CAACD,IAAI,CAACb,QAAQ,CAAC;YAC9BC,GAAG,EAAEa,UAAU,CAACD,IAAI,CAACX,SAAS,CAAC;YAC/BC,QAAQ,EAAE,IAAI,CAAC;UACjB,CAAC,CAAC;QACJ,CAAC,MAAM;UACLf,MAAM,CAACgB,KAAK,CAAC,CAAC,CAAC;QACjB;MACF,CAAC,CAAC,CACDW,KAAK,CAAC,MAAM3B,MAAM,CAACgB,KAAK,CAAC,CAAC;IAC/B,CAAC,EACDZ,OACF,CAAC;EACH,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMwB,iBAAiB,GAAGA,CAACC,GAAG,EAAEC,QAAQ,KAAK;EAClD,OAAO,IAAIhC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,IAAI,CAAC6B,GAAG,IAAI,CAACE,MAAM,CAACC,MAAM,EAAE,OAAOhC,MAAM,CAAC,gBAAgB,CAAC;IAE3D,MAAMiC,OAAO,GAAG,IAAIF,MAAM,CAACC,MAAM,CAACE,IAAI,CAACC,MAAM,CAACC,aAAa,CAACP,GAAG,CAAC;IAChE,MAAMQ,OAAO,GAAG;MACdP,QAAQ,EAAE,IAAIC,MAAM,CAACC,MAAM,CAACE,IAAI,CAACI,MAAM,CAACR,QAAQ,CAACpB,GAAG,EAAEoB,QAAQ,CAACjB,GAAG,CAAC;MACnE0B,MAAM,EAAE,IAAI;MACZC,IAAI,EAAE,CAAC,MAAM,EAAE,oBAAoB,EAAE,gBAAgB;IACvD,CAAC;IAEDP,OAAO,CAACQ,YAAY,CAACJ,OAAO,EAAE,CAACK,OAAO,EAAEC,MAAM,KAAK;MACjD,IAAIA,MAAM,KAAKZ,MAAM,CAACC,MAAM,CAACE,IAAI,CAACC,MAAM,CAACS,mBAAmB,CAACC,EAAE,EAAE;QAC/D9C,OAAO,CAAC2C,OAAO,CAAC;MAClB,CAAC,MAAM;QACL1C,MAAM,CAAC2C,MAAM,CAAC;MAChB;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}